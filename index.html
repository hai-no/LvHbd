<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=1, minimum-scale=1, maximum-scale=5"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Shippori+Antique&display=swap"
      rel="stylesheet"
    />
    <link
      rel="icon"
      href="https://gamepedia.cursecdn.com/minecraft_gamepedia/a/a7/Heart.svg?version=dac1a46352ab4c25ad78a3cef0ceea86"
    />

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.all.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-dark/dark.css"
    />

    <!-- Font Awesome -->
    <script
      src="https://kit.fontawesome.com/4f3ce16e3e.js"
      crossorigin="anonymous"
    ></script>

    <!-- Custom CSS -->
    <link
      href="https://kuisberhadiah.likeadream.repl.co/style.css"
      rel="stylesheet"
      type="text/css"
    />

    <style>
      body {
        /* Mengubah background menjadi hijau pastel yang lucu dan imut, dengan !important untuk override CSS eksternal */
        background-color: #a8e6cf !important; /* Hijau pastel */
        background-image: none !important; /* Menghapus gambar background lama */
        font-family: "Shippori Antique", sans-serif;
      }

      body::before {
        opacity: 0;
      }

      /* Sembunyikan kontrol musik sepenuhnya agar tidak terlihat */
      #music-controls {
        display: none !important;
      }

      /* Style untuk animasi kue dan kelinci */
      #birthday-animation {
        display: none; /* Awalnya tersembunyi, muncul saat expl() */
        text-align: center;
        margin-top: 20px;
      }

      #cake-gif {
        width: 200px;
        height: auto;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      #bunny-gif {
        width: 150px;
        height: auto;
        margin-top: 10px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      /* Animasi sederhana untuk membuat GIF lebih hidup */
      @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-10px);
        }
        60% {
          transform: translateY(-5px);
        }
      }

      #cake-gif:hover {
        animation: bounce 1s infinite;
      }

      #bunny-gif:hover {
        animation: bounce 1s infinite;
      }

      /* Style untuk pesan akhir */
      #final-message {
        display: none; /* Awalnya tersembunyi, muncul saat expl() */
        text-align: center;
        margin-top: 30px;
      }

      #envelope-button {
        background: none;
        border: none;
        cursor: pointer;
        font-size: 50px;
        color: #ff6b6b; /* Warna merah muda lucu */
        transition: transform 0.3s ease;
      }

      #envelope-button:hover {
        transform: scale(1.1);
      }
    </style>
  </head>
  <body>
    <div id="bodyblur"></div>
    <div id="konten">
      <div id="fotoloveu"></div>

      <p class="catatan" id="koteks" style="display: none">
        <marquee scrollamount="8" id="marq">
          <i id="spasi"></i> Yuhuuuu Chapter 21 Begins, <i id="spasi"></i> Kapan
          nih ditraktirinnya?.<i id="spasi"></i> Ayoo kitaa main dong sayangg.<i
            id="spasi"
          ></i>
          Happy Twenty One bubuu &#129395;&#129395;&#129395;
        </marquee>
      </p>

      <!-- Animasi kue ulang tahun dengan lilin dan kelinci meniup lilin -->
      <div id="birthday-animation">
        <img
          id="cake-gif"
          src="https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExY3RtdXJqMjJscjVmMGw4YXpoZmJnb3U2OG16N3cxNWUwOHdwbDNzMCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/wGKrkvHxZT6PVpw635/giphy.gif"
          alt="Kue ulang tahun dengan lilin menyala"
        />
        <br />
      </div>

      <!-- Pesan akhir dengan amplop yang bisa diklik -->
      <div id="final-message">
        <button id="envelope-button" onclick="openEnvelope()">✉️</button>
        <p style="margin-top: 10px; font-size: 18px; color: #333">
          Klik amplop ini sayanggku!
        </p>
      </div>
    </div>

    <!-- Elemen audio untuk musik Happy Birthday dari file lokal yang diupload, tanpa kontrol terlihat, langsung autoplay dan loop -->
    <audio id="birthday-song" loop autoplay preload="auto">
      <!-- Ganti URL di bawah ini dengan URL file MP3 yang Anda upload ke server online -->
      <!-- Contoh: Jika upload ke GitHub, URL akan seperti https://raw.githubusercontent.com/username/repo/main/hbd.mp3 -->
      <!-- Jika upload ke Dropbox, gunakan link share dan ubah menjadi https://dl.dropboxusercontent.com/s/.../hbd.mp3 -->
      <source src="/source/media/hbd.mp3" type="audio/mpeg" />
      <!-- Fallback: Jika URL di atas tidak bekerja, gunakan URL alternatif -->
      Browser Anda tidak mendukung elemen audio.
    </audio>

    <script>
      async function mulai() {
        const swals = Swal.mixin({
          backdrop:
            "rgba(168, 230, 207, 0.4)" /* Mengubah backdrop menjadi hijau pastel agar konsisten */,
          confirmButtonColor: "#003EFF",
          cancelButtonColor: "#FF0040",
          allowOutsideClick: false,
        });
        // Tentukan nama secara langsung tanpa meminta input
        const nama = "Lvrzy♡";
        // Simpan nama ke variabel global
        window.nama = nama;

        // Mulai musik langsung saat halaman dibuka (sebelum dialog)
        playMusic();

        // Tampilkan pesan sambutan
        await swals.fire("Hi, " + nama + " ");
        await swals.fire(
          "Selamat ulang tahun yaaa, manusia yangg paling imut dan hangatku"
        );
        await swals.fire(
          "Semogaa di tahun ini kamu tambah bahagia, tambah sehat, dan tambah sering senyum, apalgi kalau senyumnyaa buat aku :D"
        );
        await swals.fire(
          "Semogaa jgaa skripsi km dilancarkan terus hingga selesai sidang dan wisudaa"
        );
        // Panggil fungsi pilih warna
        pilihwarna();
      }

      mulai();

      function playMusic() {
        var audio = document.getElementById("birthday-song");
        audio.volume = 0.5; // Atur volume agar tidak terlalu keras (opsional, 0.5 = 50%)
        audio.play().catch(function (error) {
          console.log("Autoplay diblokir oleh browser: " + error);
          // Jika autoplay diblokir, musik akan dimainkan setelah interaksi pertama (misal klik dialog)
          // Tambahkan event listener untuk memaksa play setelah klik pertama
          document.addEventListener(
            "click",
            function () {
              audio.play();
            },
            { once: true }
          ); // Hanya sekali
        });
      }

      async function pilihwarna() {
        const swals = Swal.mixin({
          confirmButtonColor: "#003EFF",
          cancelButtonColor: "#FF0040",
        });

        let { isConfirmed: warna } = await swals.fire({
          title: "Oouuuiya, " + " mau pilih warna apa nih bub?",
          text: "Ayoooo, jngan ragu-ragu ☺️",
          showCancelButton: true,
          confirmButtonText: "Biru",
          cancelButtonText: "Merah",
        });

        if (warna) {
          await swals.fire(
            "Yuhuuuuu!",
            "Kalo kamu pilih <b>Biru</b> berarti harus traktirin aku yaa &#129315;"
          );
          var { isConfirmed: warna2 } = await swals.fire({
            title: nama + " yakin pilih warna Biru?",
            text: "Atau mau ganti warna aja bub?",
            showCancelButton: true,
            confirmButtonText: "Yakin",
            cancelButtonText: "Ganti",
          });
          if (warna2) {
            await swals.fire(
              "Okeee bub!",
              `Sekarang lihat ini yaa &#10084;&#65039;`
            );
            document.getElementById("koteks").style.display = "block";
            // Menghapus referensi ke elemen yang tidak ada (#tombWA) untuk menghindari error
            // Jika ada tombol WhatsApp, tambahkan elemen HTML dengan id="tombWA"
            // document.getElementById("tombWA").style.display = "block";
            expl();
            StartMarquee();
          } else {
            await swals.fire(
              "Okeee, pilihh Merah!",
              "Sama aja sih sebenernya, cuma kalo Merah traktirinnya harus lebih banyak yaa &#129315;"
            );
            document.getElementById("koteks").style.display = "block";
            // document.getElementById("tombWA").style.display = "block";
            expl();
            StartMarquee();
          }
        } else {
          await swals.fire(
            "Yuhuuuu!",
            "Kalo kamu pilih <b>Merah</b> berarti harus traktirin aku yaa &#129315;!"
          );
          var { isConfirmed: warna2 } = await swals.fire({
            title: nama + " yakin pilih warna Merah?",
            text: "Atau mau ganti warna aja nih?",
            showCancelButton: true,
            confirmButtonText: "Yakin",
            cancelButtonText: "Ganti",
          });
          if (warna2) {
            await swals.fire(
              "Okeee bub!",
              `Sekarang lihat ini yaa &#10084;&#65039;`
            );
            document.getElementById("koteks").style.display = "block";
            // document.getElementById("tombWA").style.display = "block";
            expl();
            StartMarquee();
          } else {
            await swals.fire(
              "Oke, pilihh Biru!",
              "Sama aja sih sebenernya, cuma kalo Biru traktirinnya harus lebih banyak yaa &#129315;"
            );
            document.getElementById("koteks").style.display = "block";
            // document.getElementById("tombWA").style.display = "block";
            expl();
            StartMarquee();
          }
        }
      }

      function expl() {
        document.getElementById("bodyblur").style.opacity = "1";
        document.getElementById("konten").style.top = "0";
        document.getElementById("fotoloveu").style.opacity = "1";
        // Tampilkan animasi kue dan kelinci saat bagian ini muncul
        document.getElementById("birthday-animation").style.display = "block";
        // Tampilkan pesan akhir setelah animasi
        document.getElementById("final-message").style.display = "block";
      }

      function StartMarquee() {
        document.getElementById("marq").start();
      }

      // Fungsi untuk membuka amplop dan menampilkan pesan
      async function openEnvelope() {
        const swals = Swal.mixin({
          backdrop: "rgba(168, 230, 207, 0.4)",
          confirmButtonColor: "#FF6B6B",
          allowOutsideClick: false,
        });

        // Tampilkan amplop terlebih dahulu
        await swals.fire({
          title: "Love Message",
          html: '<img src="https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif" alt="Amplop" style="width: 100px; height: auto;" />', // GIF amplop sederhana, bisa ganti dengan gambar amplop statis jika perlu
          confirmButtonText: "Open",
        });

        // Setelah klik "Buka Amplop", tampilkan pesan di dalam kotak surat
        await swals.fire({
          title: "🎉 Happy Birthday, My Lvrzy 💞",
          html: `
                    <div style="text-align: left; font-size: 16px; line-height: 1.6; color: #333; background-color: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
                        Terima kasih ya udah hadir di hidup aku. Kamu itu bukan cuma orang yang aku sayangg, tapi juga tmpat aku bisa jadi diri sendiri sepenuhnya. Rasanya baru kali ini aku jatuh cinta yang sebenar-benarnya, bukan cuma karena kamu manis, tapi karena sama kamu aku bisa cerita semuanya, tanpa takut dihakimi, tanpa harus pura-pura kuat.<br><br>
                        Aku tahu kadang kamu masih sedikit tertutup, masih simpan hal-hal kecil sendirian, tapi aku harap perlahan kamu mau berbagi juga, kayak aku yang pelan-pelan belajar buat terbuka. Aku gak minta kamu berubah, cukup biarin aku di sisimu, nemenin kamu, sekecil apa pun caranya, okee sayangg ajak aku ke duniamu.<br><br>
                        Jatuh cinta sama kamu tuh beda. Bukan yang heboh, tapi hangat, kayak rumah setelah hari panjang.<br><br>
                        Jadi..... selamat ulang tahun, sayangg. Terima kasih udah jadi rumah yang paling nyaman buat hatiku.<br><br>
                        I love you, today and always. 💞<br><br>
                        
                        With Love <br><br>
                        Mr. Alfarisi<br><br>
                    </div>
                `,
          confirmButtonText: "Tutup",
          width: "600px", // Lebar modal agar pesan terlihat rapi
        });
      }
    </script>
  </body>
</html>
